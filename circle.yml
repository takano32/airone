
## test machine
machine:
  timezone: Asia/Tokyo
  python:
    version: 3.5.0

## dependencies
dependencies:
  override:
    - pip install tox tox-pyenv coverage
    - cd /opt/circleci/.pyenv && git pull
    - |
      if [[ ! -d ~/.pyenv/versions/3.6.1 ]]; then
        pyenv install 3.6.1
      fi
    - pyenv local 2.7.10 3.4.3 3.5.0 3.6.1
  cache_directories:
    - ~/.pyenv/versions/3.6.1

## test definition
test:
  override:
    - tox
  post:
    - ./coverage.sh
