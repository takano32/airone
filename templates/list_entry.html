{% extends 'base.html' %}

{% block title %}List Entries{% endblock %}

{% block nav_sub_header %}
<div class="conatiner-fluid">
  <ul class="breadcrumb airone-breadcrumb">
    <li class="breadcrumb-item"><a href="/">TOP</a></li>
    <li class="breadcrumb-item">{{ entity.name }}</li>
  </ul>
</div>
{% endblock %}

{% block content %}
<div class="container-fluid">
  <div class="row">
    <div class="col">
      <div class="float-left">
        <button name="button_new" type="button" class="btn btn-primary" onclick="location.href='/entry/create/{{ entity.id }}'">エントリ作成</button>
        <button name="button_new" type="button" class="btn btn-info" onclick="location.href='/entity/edit/{{ entity.id }}'">エンティティ編集</button>
        <button name="button_new" type="button" class="btn btn-info" onclick="location.href='/acl/{{ entity.id }}'">エンティティの ACL</button>
        <button name="button_export" type="button" class="btn btn-secondary" onclick="location.href='/entry/export/{{ entity.id }}'">エクスポート</button>
        <button name="button_import" type="button" class="btn btn-secondary" onclick="location.href='/dashboard/import/'">インポート</button>
      </div>
      <div class="float-right">
        <button name="button_save" type="button" class="btn btn-primary">保存</button>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>エントリ名</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          {% for entry in entries %}
          <tr>
            <td><a href='/entry/show/{{ entry.id }}'>{{ entry.name }}</a></td>
            <td>
              <form url="/entry/do_delete/{{ entry.id }}/" method="post">
                {% csrf_token %}
                <button name="button_delete" type="button" class="btn btn-danger btn-sm" onclick="confirm_delete($(this).parent())">del</button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
